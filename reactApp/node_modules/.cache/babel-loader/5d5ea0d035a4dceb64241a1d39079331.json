{"ast":null,"code":"var _jsxFileName = \"X:\\\\GIT-HUB\\\\link-io\\\\reactApp\\\\src\\\\App.js\";\nimport React, { Component } from 'react';\nimport ReactDOM from 'react-dom';\nimport Timetree from \"./d3/Timetree\";\nimport App1 from './components/App';\nimport * as d3 from \"d3\";\nconst width = document.body.clientWidth;\nconst height = document.body.clientHeight;\nconst margin = {\n  right: 50,\n  left: 100,\n  top: 50,\n  bottom: 50\n};\n\nclass App extends Component {\n  constructor(...args) {\n    super(...args);\n    this.state = {\n      maps: [],\n      onScreenMap: \"flare\"\n    };\n  }\n\n  componentDidMount() {\n    Promise.all([// fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/world.json`),\n    // fetch(`${process.env.PUBLIC_URL}/plane.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/world.json`),\n    // fetch(`${process.env.PUBLIC_URL}/plane.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/world.json`),\n    // fetch(`${process.env.PUBLIC_URL}/plane.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/world.json`),\n    // fetch(`${process.env.PUBLIC_URL}/plane.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/world.json`),\n    // fetch(`${process.env.PUBLIC_URL}/plane.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/world.json`),\n    // fetch(`${process.env.PUBLIC_URL}/plane.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/world.json`),\n    // fetch(`${process.env.PUBLIC_URL}/plane.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    // fetch(`${process.env.PUBLIC_URL}/world.json`),\n    // fetch(`${process.env.PUBLIC_URL}/plane.json`),\n    // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\n    fetch(`public/flare-2.json`), fetch(`public/world.json`), fetch(`public/plane.json`), fetch(`public/flare-2.json`), fetch(`public/world.json`), fetch(`public/plane.json`), fetch(`public/flare-2.json`), fetch(`public/world.json`), fetch(`public/plane.json`), fetch(`public/flare-2.json`), fetch(`public/world.json`), fetch(`public/plane.json`), fetch(`public/flare-2.json`), fetch(`public/world.json`), fetch(`public/plane.json`), fetch(`public/flare-2.json`), fetch(`public/world.json`), fetch(`public/plane.json`), fetch(`public/plane.json`)]).then(responses => Promise.all(responses.map(resp => resp.json()))).then(map => {\n      //console.log(\"hello\",flare, World, circle);\n      this.setState({\n        maps: map\n      });\n      this.setState({\n        onScreenMap: map[0]\n      });\n    }); // z holds a copy of the previous transform, so we can track its changes\n\n    let z = d3.zoomIdentity; // set up the ancillary zooms and an accessor for their transforms\n\n    const zoomX = d3.zoom().scaleExtent([.5, 100]);\n    const svG = d3.select(this.refs.svG);\n    const gx1 = d3.select(this.refs.x_Axis1);\n    const gx2 = d3.select(this.refs.x_Axis2).attr(\"transform\", `translate(0 625)`);\n    const gtree = d3.select(this.refs.Timetree);\n\n    const tx = () => d3.zoomTransform(gx1.node());\n\n    const xScale = d3.scaleTime().domain([new Date(2000, 0, 1, 0), new Date(2001, 0, 1, 2)]).range([0, width - margin.left]).nice();\n\n    const xAxis = (g, scale) => g.call(d3.axisBottom(scale).ticks(12).tickSizeOuter(0));\n\n    const transition = d3.select(this.refs.svG).transition().duration(10000);\n    const line = d3.select(this.refs.svG).append(\"line\").attr(\"y1\", 0).attr(\"y2\", height).attr(\"stroke\", \"rgba(255,0,0,1)\").style(\"pointer-events\", \"none\");\n    const zoom = d3.zoom().scaleExtent([0.5, 100]).on(\"zoom\", function () {\n      const e = d3.event;\n      const t = e.transform;\n      const k = t.k / z.k;\n      const point = e.sourceEvent ? d3.mouse(this) : [width / 2, height / 2];\n\n      if (k === 1) {\n        // pure translation?\n        gx1.call(zoomX.translateBy, (t.x - z.x) / tx().k, 0);\n        gx2.call(zoomX.translateBy, (t.x - z.x) / tx().k, 0);\n      } else {\n        // if not, we're zooming on a fixed point\n        gx1.call(zoomX.scaleBy, k, point);\n        gx2.call(zoomX.scaleBy, k, point);\n      }\n\n      let [x, y] = d3.mouse(this);\n      line.attr(\"transform\", `translate(${x} 0)`).attr(\"stroke\", \"rgba(0,255,0,1)\");\n      z = t; // redraw();\n\n      const xr = tx().rescaleX(xScale);\n      gx1.call(xAxis, xr);\n      gx2.call(xAxis, xr);\n      gtree.attr(\"transform\", z);\n    });\n    d3.select(this.refs.svG).call(zoom).call(zoom.transform, d3.zoomIdentity.scale(0.8)).node();\n    svG.on(\"mousemove\", function () {\n      let [x, y] = d3.mouse(this);\n      line.attr(\"transform\", `translate(${x} 0)`).attr(\"stroke\", \"rgba(255,0,0,1)\");\n    });\n  }\n\n  updateMap(index) {\n    this.setState({\n      onScreenMap: this.state.maps[index]\n    });\n  }\n\n  render() {\n    const map = this.state.onScreenMap;\n    console.log(\"map\", map);\n    return /*#__PURE__*/React.createElement(\"div\", {\n      className: \"App\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 144,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"h1\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 145,\n        columnNumber: 7\n      }\n    }, \"Hierarchy Structured Data\"), /*#__PURE__*/React.createElement(\"div\", {\n      class: \"row\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 147,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"div\", {\n      id: \"mapsButton\",\n      class: \"btn-group scroll\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 7\n      }\n    }, this.state.maps.map((d, i) => /*#__PURE__*/React.createElement(\"button\", {\n      key: i,\n      onClick: this.updateMap.bind(this, i),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 150,\n        columnNumber: 9\n      }\n    }, d.name, \" \"))), /*#__PURE__*/React.createElement(\"svg\", {\n      ref: \"svG\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 7\n      }\n    }, /*#__PURE__*/React.createElement(\"g\", {\n      ref: \"x_Axis1\",\n      id: \"gx1\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 154,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"g\", {\n      ref: \"x_Axis2\",\n      id: \"gx2\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 155,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"g\", {\n      ref: \"y_Axis\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 156,\n        columnNumber: 11\n      }\n    }), /*#__PURE__*/React.createElement(\"g\", {\n      ref: \"Timetree\",\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }\n    }, \" */}\", /*#__PURE__*/React.createElement(Timetree, {\n      data: map,\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 158,\n        columnNumber: 12\n      }\n    })))));\n  }\n\n}\n\nexport default App;","map":{"version":3,"sources":["X:/GIT-HUB/link-io/reactApp/src/App.js"],"names":["React","Component","ReactDOM","Timetree","App1","d3","width","document","body","clientWidth","height","clientHeight","margin","right","left","top","bottom","App","state","maps","onScreenMap","componentDidMount","Promise","all","fetch","then","responses","map","resp","json","setState","z","zoomIdentity","zoomX","zoom","scaleExtent","svG","select","refs","gx1","x_Axis1","gx2","x_Axis2","attr","gtree","tx","zoomTransform","node","xScale","scaleTime","domain","Date","range","nice","xAxis","g","scale","call","axisBottom","ticks","tickSizeOuter","transition","duration","line","append","style","on","e","event","t","transform","k","point","sourceEvent","mouse","translateBy","x","scaleBy","y","xr","rescaleX","updateMap","index","render","console","log","d","i","bind","name"],"mappings":"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","sourcesContent":["import React , {Component } from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport Timetree from \"./d3/Timetree\";\r\nimport App1 from './components/App';\r\nimport * as d3 from \"d3\";\r\n\r\nconst width = document.body.clientWidth ;\r\nconst height = document.body.clientHeight ;\r\nconst margin = {right : 50, left : 100, top : 50, bottom : 50};\r\n\r\nclass App extends Component{\r\n  state = {\r\n   maps:[],\r\n   onScreenMap : \"flare\", \r\n  };\r\n\r\n  componentDidMount(){\r\n    Promise.all([\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/world.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/plane.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/world.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/plane.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/world.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/plane.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/world.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/plane.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/world.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/plane.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/world.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/plane.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/world.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/plane.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/world.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/plane.json`),\r\n      // fetch(`${process.env.PUBLIC_URL}/flare-2.json`),\r\n      fetch(`public/flare-2.json`),\r\n      fetch(`public/world.json`),\r\n      fetch(`public/plane.json`),\r\n      fetch(`public/flare-2.json`),\r\n      fetch(`public/world.json`),\r\n      fetch(`public/plane.json`),\r\n      fetch(`public/flare-2.json`),\r\n      fetch(`public/world.json`),\r\n      fetch(`public/plane.json`),\r\n      fetch(`public/flare-2.json`),\r\n      fetch(`public/world.json`),\r\n      fetch(`public/plane.json`),\r\n      fetch(`public/flare-2.json`),\r\n      fetch(`public/world.json`),\r\n      fetch(`public/plane.json`),\r\n      fetch(`public/flare-2.json`),\r\n      fetch(`public/world.json`),\r\n      fetch(`public/plane.json`),\r\n      fetch(`public/plane.json`),\r\n    ]).then(responses => Promise.all(responses.map(resp => resp.json())))\r\n    .then((map) => {\r\n      //console.log(\"hello\",flare, World, circle);\r\n      this.setState({maps: map});\r\n      this.setState({onScreenMap: map[0]});\r\n    });\r\n\r\n    // z holds a copy of the previous transform, so we can track its changes\r\n    let z = d3.zoomIdentity;\r\n     // set up the ancillary zooms and an accessor for their transforms\r\n    const zoomX = d3.zoom().scaleExtent([.5,100 ]);\r\n    const svG = d3.select(this.refs.svG);\r\n    const gx1 = d3.select(this.refs.x_Axis1);\r\n    const gx2 = d3.select(this.refs.x_Axis2)\r\n                  .attr(\"transform\", `translate(0 625)`);\r\n    const gtree = d3.select(this.refs.Timetree);\r\n    const tx = () => d3.zoomTransform(gx1.node());\r\n    const xScale =d3.scaleTime().domain([new Date(2000, 0, 1, 0), new Date(2001, 0, 1, 2)]).range([0,width-margin.left]).nice();\r\n    const xAxis = (g, scale) => g.call(d3.axisBottom(scale).ticks(12).tickSizeOuter(0));\r\n    const transition = d3.select(this.refs.svG)\r\n                         .transition()\r\n                         .duration(10000);\r\n    const line = d3.select(this.refs.svG).append(\"line\")\r\n                      .attr(\"y1\", 0)\r\n                      .attr(\"y2\", height)\r\n                      .attr(\"stroke\", \"rgba(255,0,0,1)\")\r\n                      .style(\"pointer-events\",\"none\");\r\n\r\n    const zoom = d3.zoom()\r\n        .scaleExtent([0.5,100 ])\r\n        .on(\"zoom\", function() {\r\n          const e = d3.event;\r\n          const t = e.transform;\r\n          const k = t.k / z.k;\r\n          const point = e.sourceEvent ? d3.mouse(this) : [width / 2, height / 2];\r\n\r\n          if (k === 1) {\r\n            // pure translation?\r\n            gx1.call(zoomX.translateBy, (t.x - z.x) / tx().k, 0);\r\n            gx2.call(zoomX.translateBy, (t.x - z.x) / tx().k, 0);\r\n          } else {\r\n            // if not, we're zooming on a fixed point\r\n            gx1.call(zoomX.scaleBy, k, point);\r\n            gx2.call(zoomX.scaleBy, k, point);\r\n          }\r\n          let [x,y] = d3.mouse(this);\r\n          line.attr(\"transform\", `translate(${x} 0)`)\r\n              .attr(\"stroke\", \"rgba(0,255,0,1)\");\r\n\r\n          z = t;\r\n          // redraw();\r\n          const xr = tx().rescaleX(xScale);\r\n          gx1.call(xAxis, xr);\r\n          gx2.call(xAxis, xr);\r\n          gtree.attr(\"transform\",z);\r\n    });\r\n\r\n\r\n    d3.select(this.refs.svG)\r\n          .call(zoom)\r\n          .call(zoom.transform, d3.zoomIdentity.scale(0.8))\r\n          .node();\r\n          \r\n    svG.on(\"mousemove\" , function(){\r\n              let [x,y] = d3.mouse(this);\r\n              line\r\n                .attr(\"transform\", `translate(${x} 0)`)\r\n                .attr(\"stroke\", \"rgba(255,0,0,1)\") ;});\r\n  }\r\n\r\n  updateMap(index){\r\n    this.setState({onScreenMap:this.state.maps[index]});\r\n  }\r\n\r\n  render(){\r\n    const map = this.state.onScreenMap;\r\n    console.log(\"map\",map);\r\n    return(\r\n      <div className=\"App\">\r\n      <h1 >Hierarchy Structured Data</h1>\r\n      {/* <App1/> */}\r\n      <div class = \"row\">\r\n      <div id = \"mapsButton\" class=\"btn-group scroll\">\r\n      {this.state.maps.map((d,i) => (\r\n        <button key={i} onClick={this.updateMap.bind(this,i)}>{d.name} </button>\r\n      ))}\r\n      </div>\r\n      <svg ref = \"svG\"  >\r\n          <g ref = \"x_Axis1\" id = \"gx1\"/> \r\n          <g ref = \"x_Axis2\" id = \"gx2\"/> \r\n          <g ref = \"y_Axis\"/>\r\n          <g ref = \"Timetree\" > */}\r\n           <Timetree data={map}/>\r\n          </g> \r\n      </svg>\r\n      </div>\r\n      </div>\r\n      );\r\n  }\r\n}\r\n\r\n\r\nexport default App;"]},"metadata":{},"sourceType":"module"}